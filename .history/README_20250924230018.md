# Live Polling System (Intervue Poll)

A real-time interactive polling application built with React, Express, and Socket.IO. This system enables teachers to create live polls and students to participate in real-time with instant results visualization.

![Live Polling System](./public/placeholder.svg)

## ğŸš€ Features

### Teacher Interface
- **Real-time Poll Creation**: Create questions with multiple choice options
- **Correct Answer Selection**: Mark correct answers for educational assessment
- **Live Results Visualization**: See responses update in real-time with percentage breakdowns
- **Student Management**: Kick disruptive students from polls
- **Poll History**: Access previous polls and their results
- **Chat Integration**: Communicate with students during polls

### Student Interface
- **One-Click Voting**: Simple, intuitive voting interface
- **Real-time Updates**: See live poll status and timer
- **Chat Participation**: Engage with teacher and other students
- **Kick Protection**: Graceful handling when removed from polls

### Real-time Communication
- **Socket.IO Integration**: Instant updates across all connected users
- **Live Vote Tracking**: Results update immediately as votes are cast
- **Chat System**: Real-time messaging with smart notifications
- **Connection Management**: Robust handling of user connections and disconnections

## ğŸ›  Tech Stack

- **Frontend**: React 18 + TypeScript + Vite
- **Backend**: Express.js + Node.js
- **Real-time**: Socket.IO 4.8.1
- **Styling**: TailwindCSS 3 + Radix UI
- **Routing**: React Router 6 (SPA mode)
- **Package Manager**: PNPM
- **Testing**: Vitest
- **Type Safety**: TypeScript with Zod validation

## ğŸ“ Project Structure

```
â”œâ”€â”€ client/                     # React frontend application
â”‚   â”œâ”€â”€ pages/                 # Route components
â”‚   â”‚   â”œâ”€â”€ Index.tsx          # Landing page
â”‚   â”‚   â”œâ”€â”€ Teacher.tsx        # Teacher poll interface
â”‚   â”‚   â”œâ”€â”€ Student.tsx        # Student voting interface
â”‚   â”‚   â””â”€â”€ History.tsx        # Poll history page
â”‚   â”œâ”€â”€ components/ui/         # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ AppLayout.tsx      # Main layout wrapper
â”‚   â”‚   â”œâ”€â”€ ChatWidget.tsx     # Real-time chat component
â”‚   â”‚   â””â”€â”€ Header.tsx         # Navigation header
â”‚   â”œâ”€â”€ lib/                   # Utility functions
â”‚   â”‚   â”œâ”€â”€ socket.ts          # Socket.IO client setup
â”‚   â”‚   â””â”€â”€ utils.ts           # Helper functions
â”‚   â””â”€â”€ App.tsx                # Main app with routing
â”œâ”€â”€ server/                    # Express backend
â”‚   â”œâ”€â”€ routes/                # API route handlers
â”‚   â”‚   â”œâ”€â”€ index.ts           # Main server routes
â”‚   â”‚   â””â”€â”€ poll.ts            # Poll management logic
â”‚   â””â”€â”€ index.ts               # Server entry point
â”œâ”€â”€ shared/                    # Shared types and interfaces
â”‚   â””â”€â”€ api.ts                 # Common API types
â””â”€â”€ public/                    # Static assets
```

## ğŸš¦ Getting Started

### Prerequisites

Before running this application, ensure you have the following installed on your system:

- **Node.js** (v18.0.0 or higher) - [Download here](https://nodejs.org/)
- **PNPM** package manager - [Installation guide](https://pnpm.io/installation)

#### Installing PNPM

If you don't have PNPM installed:

```bash
# Using npm
npm install -g pnpm

# Using PowerShell (Windows)
iwr https://get.pnpm.io/install.ps1 -useb | iex

# Using Homebrew (macOS)
brew install pnpm
```

### Quick Start

#### Option 1: Clone from Repository

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd live-polling-system
   ```

#### Option 2: Using Existing Project

If you already have the project files:

1. **Navigate to project directory**
   ```bash
   cd path/to/project
   ```

### Installation & Setup

2. **Install all dependencies**
   ```bash
   pnpm install
   ```
   This will install all required packages for both client and server.

3. **Verify installation**
   ```bash
   pnpm --version
   node --version
   ```

### Running the Application

#### Development Mode (Recommended for development)

4. **Start the development server**
   ```bash
   pnpm dev
   ```

   This command will:
   - Start the Express server on port 8083
   - Launch the Vite development server with hot reload
   - Enable real-time Socket.IO communication
   - Watch for file changes and auto-restart

5. **Access the application**
   
   Open your web browser and navigate to:
   ```
   http://localhost:8083
   ```

   **Available Routes:**
   - `http://localhost:8083/` - Landing page
   - `http://localhost:8083/teacher` - Teacher interface
   - `http://localhost:8083/student` - Student interface
   - `http://localhost:8083/history` - Poll history

#### Production Mode

For production deployment:

6. **Build the application**
   ```bash
   pnpm build
   ```
   This creates optimized builds in the `dist/` directory.

7. **Start production server**
   ```bash
   pnpm start
   ```
   The application will run on `http://localhost:8083`

### Testing Your Setup

8. **Test the polling system**
   
   - Open two browser windows/tabs
   - In first tab: Go to `http://localhost:8083/teacher`
   - In second tab: Go to `http://localhost:8083/student`
   - Create a poll in teacher tab and vote in student tab
   - Verify real-time updates work correctly

### Available Scripts

```bash
# Development
pnpm dev              # Start development server (hot reload enabled)

# Building
pnpm build            # Build both client and server for production
pnpm build:client     # Build only the React frontend
pnpm build:server     # Build only the Express backend

# Production
pnpm start            # Start production server (must run build first)

# Testing & Quality
pnpm test             # Run all tests with Vitest
pnpm typecheck        # Run TypeScript type checking
pnpm format.fix       # Format code with Prettier
```

### Development Workflow

For active development:

1. **Start development server:**
   ```bash
   pnpm dev
   ```

2. **Make changes to files** - The server will automatically reload

3. **View changes** - Refresh browser to see updates

4. **Run tests** (optional):
   ```bash
   pnpm test
   ```

### Port Configuration

The default port is `8083`. To use a different port:

**Method 1: Environment Variable**
```bash
PORT=3000 pnpm dev
```

**Method 2: Create `.env` file**
```env
PORT=3000
NODE_ENV=development
```

## ğŸ¯ Usage Guide

### For Teachers

1. **Navigate to Teacher Interface**: Go to `/teacher`
2. **Create a Poll**:
   - Enter your question
   - Add multiple choice options
   - Mark the correct answer (optional)
   - Click "Ask Question"
3. **Monitor Results**: Watch real-time responses and percentages
4. **Manage Students**: Use kick functionality for disruptive participants
5. **Start New Poll**: Click "+ Ask a new question" to create another poll
6. **View History**: Access past polls via "View Poll history" button

### For Students

1. **Navigate to Student Interface**: Go to `/student`
2. **Join Poll**: Enter your name to join active polls
3. **Vote**: Click on your preferred answer option
4. **Chat**: Use the chat widget to communicate during polls
5. **Stay Updated**: See live timer and poll status changes

## ğŸ”§ Configuration

### Environment Variables

Create a `.env` file in the root directory:

```env
PORT=8083
NODE_ENV=development
```

### Socket.IO Events

The application uses these Socket.IO events:

- `student:join` - Student joins a poll
- `student:submit` - Student submits their vote
- `poll:update` - Poll state updates (votes, timer, etc.)
- `system:kicked` - Student removal notification
- `chat:message` - Real-time chat messages

## ğŸ¨ Customization

### Theming

The application uses a purple theme defined in `client/global.css`:

```css
:root {
  --primary: 262 83% 58%;        /* Purple primary color */
  --primary-foreground: 210 40% 98%;
  /* ... other theme variables */
}
```

### UI Components

All UI components are built with Radix UI and TailwindCSS, located in `client/components/ui/`. These components are fully customizable and follow design system principles.

## ğŸš€ Deployment

### Development Deployment

```bash
pnpm build
pnpm start
```

### Production Deployment

1. **Build the application**:
   ```bash
   pnpm build
   ```

2. **Deploy to your preferred platform**:
   - Netlify (recommended)
   - Vercel
   - Railway
   - Heroku

The built application will be in the `dist/` directory.

## ğŸ§ª Testing

Run tests with:

```bash
pnpm test
```

Tests are written with Vitest and cover:
- Component rendering
- Socket.IO event handling
- Poll logic validation
- User interaction flows

## ğŸ”’ Security Features

- **Input Validation**: All user inputs validated with Zod schemas
- **XSS Protection**: Proper input sanitization
- **Rate Limiting**: Protection against spam voting
- **Connection Security**: Socket.IO connection validation

## ğŸ› Troubleshooting

### Common Setup Issues

#### 1. **Port Already in Use Error**
```
Error: listen EADDRINUSE: address already in use :::8083
```

**Solutions:**
- **Option A**: Kill the process using the port
  ```bash
  # Windows
  netstat -ano | findstr :8083
  taskkill /PID <process_id> /F
  
  # macOS/Linux
  lsof -ti:8083 | xargs kill -9
  ```

- **Option B**: Use a different port
  ```bash
  PORT=3001 pnpm dev
  ```

#### 2. **PNPM Command Not Found**
```
'pnpm' is not recognized as an internal or external command
```

**Solutions:**
```bash
# Install PNPM globally
npm install -g pnpm

# Or use npx
npx pnpm install
npx pnpm dev
```

#### 3. **Node Version Issues**
```
Error: This package requires Node.js >= 18.0.0
```

**Solutions:**
- Update Node.js from [nodejs.org](https://nodejs.org/)
- Or use Node Version Manager:
  ```bash
  # Install Node 18+
  nvm install 18
  nvm use 18
  ```

#### 4. **Socket Connection Failed**
```
WebSocket connection to 'ws://localhost:8083/socket.io/' failed
```

**Solutions:**
- Ensure server is running: `pnpm dev`
- Check firewall settings
- Try different browser or incognito mode
- Verify no proxy/VPN interference

#### 5. **Module Resolution Errors**
```
Cannot find module '@/components/ui/...'
```

**Solutions:**
```bash
# Clear node_modules and reinstall
rm -rf node_modules
pnpm install

# Or on Windows
rmdir /s node_modules
pnpm install
```

#### 6. **Build Errors**
```
Build failed with TypeScript errors
```

**Solutions:**
```bash
# Check TypeScript errors
pnpm typecheck

# Fix formatting issues
pnpm format.fix

# Clear cache and rebuild
rm -rf dist
pnpm build
```

#### 7. **Permission Errors (macOS/Linux)**
```
EACCES: permission denied
```

**Solutions:**
```bash
# Fix npm permissions
sudo chown -R $(whoami) ~/.npm
sudo chown -R $(whoami) /usr/local/lib/node_modules

# Or install with --unsafe-perm
pnpm install --unsafe-perm
```

### Getting Help

If you encounter issues not listed above:

1. **Check the logs** in your terminal for specific error messages
2. **Verify your setup** by running:
   ```bash
   node --version    # Should be 18.0.0+
   pnpm --version    # Should be 8.0.0+
   ```
3. **Search existing issues** in the project repository
4. **Create a new issue** with:
   - Your operating system
   - Node.js and PNPM versions
   - Complete error message
   - Steps to reproduce

## ğŸ“ˆ Performance

- **Real-time Updates**: Sub-100ms response times for poll updates
- **Concurrent Users**: Supports 100+ simultaneous participants
- **Memory Efficient**: Optimized state management for large polls
- **Mobile Responsive**: Works seamlessly on all device sizes

## ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests for new functionality
5. Submit a pull request

## ğŸ“„ License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

## ğŸ™‹â€â™‚ï¸ Support

For questions or issues:

1. Check the [Troubleshooting](#-troubleshooting) section
2. Search existing GitHub issues
3. Create a new issue with detailed description

## ğŸ‰ Acknowledgments

- Built with the Fusion Starter template
- UI components from Radix UI
- Icons from Lucide React
- Real-time communication powered by Socket.IO

---

**Ready to create engaging, interactive polls? Get started now! ğŸš€**